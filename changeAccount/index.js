(function(o,p,e,E,a,r,i,s,u){"use strict";const{FormRow:g,FormSection:S,FormDivider:N}=E.Forms,{View:T,Text:f,ScrollView:A,TouchableOpacity:w,Image:F}=e.ReactNative;a.storage.accounts||(a.storage.accounts=[]),a.storage.currentAccount||(a.storage.currentAccount=null);const h=function(){return u.encrypt(i.device.uuid.split("").reverse().join("")+i.device.uuid)},d=e.stylesheet.createThemedStyleSheet({container:{flex:1,padding:16,backgroundColor:e.constants.ThemeColorMap.BACKGROUND_MOBILE_PRIMARY},accountCard:{backgroundColor:e.constants.ThemeColorMap.BACKGROUND_MOBILE_SECONDARY,borderRadius:10,marginVertical:4,padding:12,flexDirection:"row",alignItems:"center"},avatar:{width:40,height:40,borderRadius:20,marginRight:12}}),C=s.findByStoreName("UserStore"),R=s.findByStoreName("AuthStore"),D=function(){e.NavigationNative.useNavigation();const[l,c]=e.React.useState(a.storage.accounts),y=async function(t){try{const n=u.decrypt(t.token,h());await R.actions.setToken(n),a.storage.currentAccount=t.id,r.showToast(`\u2705 ${t.username} y\xFCkleniyor...`),setTimeout(function(){return window.location.reload()},1500)}catch(n){r.showToast(`\u274C Hata: ${n.message}`)}},v=function(){const t=C.getCurrentUser();if(!t)return r.showToast("\u26A0\uFE0F \xD6nce giri\u015F yap\u0131n!");if(a.storage.accounts.find(function(_){return _.id===t.id}))return r.showToast("\u26A0\uFE0F Zaten kay\u0131tl\u0131!");const n=u.encrypt(R.getToken(),h());a.storage.accounts.push({id:t.id,username:t.username,discriminator:t.discriminator,avatar:t.avatar,token:n}),r.showToast("\u2705 Hesap kaydedildi!"),c([...a.storage.accounts])};return e.React.createElement(A,{style:d.container},e.React.createElement(S,{title:"Hesap Y\xF6netimi"},l.map(function(t){return e.React.createElement(w,{key:t.id,style:d.accountCard,onPress:function(){return y(t)},onLongPress:function(){a.storage.accounts=a.storage.accounts.filter(function(n){return n.id!==t.id}),c([...a.storage.accounts]),r.showToast("\u{1F5D1}\uFE0F Hesap silindi!")}},e.React.createElement(F,{source:{uri:`https://cdn.discordapp.com/avatars/${t.id}/${t.avatar}.png`},style:d.avatar}),e.React.createElement(T,null,e.React.createElement(f,{style:{color:e.constants.ThemeColorMap.TEXT_NORMAL}},t.username,"#",t.discriminator),e.React.createElement(f,{style:{color:e.constants.ThemeColorMap.TEXT_MUTED}},t.id===a.storage.currentAccount?"Aktif Hesap":"")))}),e.React.createElement(N,null),e.React.createElement(g,{label:"Mevcut Hesab\u0131 Ekle",leading:e.React.createElement(g.Icon,{source:i.getAssetIDByName("ic_add_24px")}),onPress:v})))};var k=p.definePlugin({name:"Revenge Account Switcher",description:"G\xFCvenli hesap ge\xE7i\u015Fi i\xE7in Revenge eklentisi",version:"1.0.2",authors:[{name:"Sen",id:"YOUR_DISCORD_ID"}],onLoad(){const l=e.NavigationNative.useNavigation(),c=after("default",s.findByStoreName("SettingsScreen").prototype,function(y,v){v.props.children.props.sections.unshift({title:"Hesap Y\xF6neticisi",icon:i.getAssetIDByName("ic_profile"),onPress:function(){return l.push("RevengeAccountSwitcher")}})});return e.NavigationNative.registerScreen("RevengeAccountSwitcher",function(){return D}),function(){c(),e.NavigationNative.unregisterScreen("RevengeAccountSwitcher")}}});return o.default=k,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta,vendetta.metro.common,vendetta.ui.components,vendetta.plugin,vendetta.ui.toasts,vendetta.ui.assets,vendetta.metro,vendetta.encrypt);
