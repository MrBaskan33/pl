(function(o,u,f){"use strict";const p=u.findByName("RowManager");let a;const l=function(){a=f.after("generate",p.prototype,function(d,g){let[h]=d,{message:e}=g;if(h.rowType!==1||!e?.embeds||!e?.content)return;let r=0;const n=[];for(const t of e.embeds)(t.type=="image"||t.type=="gifv")&&(r++,n.push(t.url));const c=[];for(let t=0;t<n.length;t++){const s=n[t];c.push({type:"link",content:[{type:"text",content:s}],target:s}),t<n.length-1&&c.push({type:"text",content:`
`})}e.content.length==0&&r>0&&e.content.push(...c)})},i=function(){a?.()};return o.onLoad=l,o.onUnload=i,o})({},vendetta.metro,vendetta.patcher);
