(function(c,s,h,f,p,w,i){"use strict";const t=new w({storage:p.storage,initialize(){return{version:3,hide:{app:!0,gift:!0,thread:!0,voice:!0},show:{thread:!1},neverDismiss:!0}},version:3,migrations:{1:function(e){let{version:a,...n}=e;return{hide:n,neverDismiss:!0}},2:function(e){return{...e,show:{thread:!1}}}}}),u=[],{factories:{createFilterDefinition:v},lazy:{createLazyModule:R}}=h,l=v(function(e,a){let[n]=e;return a?.type?.displayName===n},function(e){let[a]=e;return`palmdevs.byTypeDisplayName(${a})`}),d=function(e){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return R(a?l(e):l.byRaw(e))};var m={onLoad:function(){const e=d("ChatInputSendButton"),a=d("ChatInputActions");u.push(s.patcher.before("render",e.type,function(n){let[o]=n;o.canSendVoiceMessage&&(o.canSendVoiceMessage=!t.get("hide.voice"))}),s.patcher.before("render",a.type,function(n){let[o]=n;o.isAppLauncherEnabled&&(o.isAppLauncherEnabled=!t.get("hide.app")),o.canStartThreads=t.get("show.thread")||!t.get("hide.thread"),o.forceShowActions=t.get("neverDismiss"),o.shouldShowGiftButton=!t.get("hide.gift")}))},onUnload:function(){for(const e of u)e()},settings:function(){const[e,a]=React.useReducer(function(n){return~n},0);return React.createElement(f.ReactNative.ScrollView,{style:{flex:1}},React.createElement(i.Stack,{style:{paddingVertical:24,paddingHorizontal:12},spacing:24},React.createElement(i.TableRowGroup,{title:"Hide Buttons"},[["App Launcher button","AppsIcon","app"],["Gift button","ic_gift","gift"],["New Thread button","ThreadPlusIcon","thread"],["Voice Message button","MicrophoneIcon","voice"]].map(function(n){let[o,y,r]=n;return React.createElement(i.TableSwitchRow,{key:r,icon:React.createElement(i.TableRow.Icon,{source:s.assets.findAssetId(y)}),label:`Hide ${o}`,disabled:r==="thread"&&t.get(`show.${r}`),value:r==="thread"&&t.get(`show.${r}`)?!1:t.get(`hide.${r}`),onValueChange:function(S){t.set(`hide.${r}`,S),a()}})})),React.createElement(i.TableRowGroup,{title:"Force Show Buttons"},React.createElement(i.TableSwitchRow,{icon:React.createElement(i.TableRow.Icon,{source:s.assets.findAssetId("ThreadPlusIcon")}),label:"Force show New Thread button",subLabel:"Show the thread button even when you can't start threads, or when the chat input is not focused",value:t.get("show.thread"),onValueChange:function(n){t.set("show.thread",n),a()}}))))}};return c.default=m,c.storage=t,Object.defineProperty(c,"__esModule",{value:!0}),c})({},api,g,common,vendetta.plugin,b,shared_components);
